// Javaプラグイン設定
jar {
    archiveName "ws_hello_oneway_service_requestor.jar"
}

// ソースフォルダの設定
sourceSets {
    main {
        java {
            srcDir "src/main/proxy"
        }
    }
}

def serviceName = "HelloOnewayService"

task generateProxy << {
    def proxyDir = new File("$projectDir/src/main/proxy")
    proxyDir.deleteDir(); proxyDir.mkdir()
    def wsdlDir = new File("$projectDir/wsdl")
    // プロキシコードを生成する
    def wsdlFile = new File(wsdlDir.path + "/" + serviceName + ".wsdl")
    wsimport(wsdlFile, proxyDir)
}

// タスクをグループ化する
[generateProxy]*.group = "jaxws"